- [常见面试题总结](#常见面试题总结)
- [领域驱动设计(DDD)](#领域驱动设计ddd)
  - [DDD概念](#ddd概念)

# 常见面试题总结

1. JVM数据储存模型 新生代老年代构造

    PC 栈 堆 本地方法栈 永久代(元空间) 

    新生代分为 eden 和 survivor区 老年代

2. java GC算法，什么时候会触发minor gc，什么时候会触发full gc？

    **可达性分析** **引用计数**

    minor gc 是在eden区满的时候触发

    full gc 当准备要触发一次young GC时，如果发现统计数据说之前young GC的平均晋升大小比目前old gen剩余的空间大，则不会触发young GC而是转为触发full GC

3. GC 可达性分析中哪些算是GC ROOT？

       1.虚拟机栈(栈帧中的本地变量表)中引用的对象；
       2.方法区中的类静态属性引用的对象
       3.方法区中的常量引用的对象
       4.原生方法栈（Native Method Stack）中 JNI 中引用的对象
       5.内部引用
       6.同步锁持有的对象
       7.本地代码缓存等

# 领域驱动设计(DDD)

统一思想：统一项目各方业务、产品、开发对问题的认知，而不是开发和产品统一，业务又和产品统一从而产生分歧。

明确分工：域模型需要明确定义来解决方方面面的问题，而针对这些问题则形成了团队分钟的理解。

反映变化：需求是不断变化的，因此我们的模型也是在不断的变化的。领域模型则可以真实的反映这些变化。

边界分离：领域模型与数据模型分离，用领域模型来界定哪些需求在什么地方实现，保持结构清晰。

## DDD概念

**实体**
有唯一标志的核心领域对象，且这个标志在整个软件生命周期中都不会发生变化。这个概念和我们平时软件模型中和数据库打交道的Model实例比较接近，唯一不同的是DDD中这些实体会包含与该实体相关的业务逻辑，它是操作行为的载体。

**值对象**
依附于实体存在，通过对象属性来识别的对象，它将一些相关的实体属性打包在一起处理，形成一个新的对象。

举个栗子：比如用户实体，包含用户名、密码、年龄、地址，地址又包含省市区等属性，而将省市区这些属性打包成一个属性集合就是值对象。

**聚合**
实体和值对象表现的是个体的能力，而我们的业务逻辑往往很复杂，依赖个体是无法完成的，这时候就需要多个实体和值对象一起协同工作，而这个协同的组织就是聚合。聚合是数据修改和持久化的基本单元，同一个聚合内要保证事务的一致性，所以在设计的时候要保证聚合的设计拆分到最小化以保证效率和性能。

**聚合根**
也叫做根实体，一个特殊的实体，它是聚合的管理者，代表聚合的入口，抓住聚合根可以抓住整个聚合。

**领域服务**
有些领域的操作是一些动词，并不能简单的把他们归类到某个实体或者值对象中。这样的行为从领域中识别出来之后应该将它声明成一个服务，它的作用仅仅是为领域提供相应的功能。

**领域事件**
在特定的领域由用户动作触发，表示发生在过去的事件。比如充值成功、充值失败的事件。
